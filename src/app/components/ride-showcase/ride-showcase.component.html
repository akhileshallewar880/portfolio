<!-- ======================================
     RIDE SHOWCASE â€” VanYatra Immersive Demo
     ====================================== -->
<div class="showcase-wrapper" #showcaseSection>

  <!-- Intro title (above sticky section) -->
  <div class="showcase-intro">
    <div class="container">
      <div class="intro-badge">
        <span class="dot"></span>
        Featured Project
      </div>
      <h2 class="intro-headline">
        Meet <span class="gradient-text">VanYatra</span>
      </h2>
      <p class="intro-desc">
        A full-stack ride-sharing platform built for real people.<br>
        Scroll to experience every screen.
      </p>
      <div class="intro-stack">
        <span>.NET 8</span>
        <span>SignalR</span>
        <span>Flutter</span>
        <span>Azure SQL</span>
        <span>JWT/RBAC</span>
        <span>Azure</span>
      </div>
      <div class="scroll-hint">
        <div class="scroll-hint-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><path d="M12 5v14M5 12l7 7 7-7"/></svg>
        </div>
        Scroll to explore the app
      </div>
    </div>
  </div>

  <!-- Sticky showcase container -->
  <div class="showcase-sticky-container">
    <!-- Sticky viewport -->
    <div class="sticky-viewport" [style.--accent]="activeSlide.accentColor" [style.--grad-from]="activeSlide.gradientFrom" [style.--grad-to]="activeSlide.gradientTo">

      <!-- Background gradient (animated on slide change) -->
      @for (slide of slides; track slide.id) {
        <div class="bg-layer" [class.active]="activeIndex() === slide.id" [style.background]="'linear-gradient(135deg, ' + slide.gradientFrom + '15, ' + slide.gradientTo + '08)'"></div>
      }

      <!-- Floating ambient orbs -->
      <div class="orb orb-1" [style.background]="'radial-gradient(circle, ' + activeSlide.accentColor + '25, transparent)'"></div>
      <div class="orb orb-2" [style.background]="'radial-gradient(circle, ' + activeSlide.gradientTo + '20, transparent)'"></div>

      <div class="showcase-layout">

        <!-- LEFT: Content panel -->
        <div class="content-panel">
          <!-- Slide counter -->
          <div class="slide-counter">
            <span class="current-num">0{{ activeIndex() + 1 }}</span>
            <span class="separator">/</span>
            <span class="total-num">0{{ slides.length }}</span>
          </div>

          <!-- Tag -->
          @for (slide of slides; track slide.id) {
            @if (activeIndex() === slide.id) {
              <div class="slide-tag">{{ slide.tag }}</div>
            }
          }

          <!-- Headline -->
          <div class="headline-wrap">
            @for (slide of slides; track slide.id) {
              @if (activeIndex() === slide.id) {
                <h3 class="slide-headline">
                  {{ slide.headline }}<br>
                  <span class="slide-subline" [style.color]="slide.accentColor">{{ slide.subline }}</span>
                </h3>
              }
            }
          </div>

          <!-- Screen name badge -->
          <div class="screen-label" [style.background]="activeSlide.accentColor + '15'" [style.borderColor]="activeSlide.accentColor + '30'" [style.color]="activeSlide.accentColor">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
            {{ activeSlide.screen }}
          </div>

          <!-- Description -->
          @for (slide of slides; track slide.id) {
            @if (activeIndex() === slide.id) {
              <p class="slide-desc">{{ slide.description }}</p>
            }
          }

          <!-- Highlights -->
          @for (slide of slides; track slide.id) {
            @if (activeIndex() === slide.id) {
              <ul class="slide-highlights">
                @for (h of slide.highlights; track h; let j = $index) {
                  <li [style.animation-delay]="(j * 0.08) + 's'">
                    <span class="hl-dot" [style.background]="slide.accentColor"></span>
                    {{ h }}
                  </li>
                }
              </ul>
            }
          }

          <!-- Progress bar -->
          <div class="progress-track">
            <div class="progress-fill" [style.width.%]="scrollProgress() * 100" [style.background]="'linear-gradient(90deg, ' + activeSlide.gradientFrom + ', ' + activeSlide.gradientTo + ')'"></div>
          </div>

          <!-- Dot nav -->
          <div class="dot-nav">
            @for (slide of slides; track slide.id; let i = $index) {
              <button
                class="dot-btn"
                [class.active]="activeIndex() === i"
                [style.background]="activeIndex() === i ? slide.accentColor : ''"
                (click)="goToSlide(i)"
                [attr.aria-label]="'Go to ' + slide.screen">
              </button>
            }
          </div>

          <!-- CTA -->
          <a href="https://github.com/akhileshallewar880/RideSharingApplication" target="_blank" rel="noopener" class="showcase-cta" [style.background]="'linear-gradient(135deg, ' + activeSlide.gradientFrom + ', ' + activeSlide.gradientTo + ')'">
            <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
            View on GitHub
          </a>
        </div>

        <!-- CENTER: Phone mockup -->
        <div class="phone-center" #stickyPhone>
          <div class="phone-frame" [class.switching]="false">
            <!-- Phone shell -->
            <div class="phone-shell">
              <!-- Notch -->
              <div class="phone-notch">
                <div class="notch-camera"></div>
                <div class="notch-speaker"></div>
              </div>

              <!-- Screen area with sliding images -->
              <div class="phone-screen">
                @for (slide of slides; track slide.id) {
                  <img
                    [src]="slide.image"
                    [alt]="slide.screen"
                    class="screen-img"
                    [class.active]="activeIndex() === slide.id"
                    [class.exit-up]="activeIndex() > slide.id"
                    [class.enter-down]="activeIndex() < slide.id"
                    loading="lazy">
                }
              </div>

              <!-- Home bar -->
              <div class="phone-home-bar"></div>
            </div>

            <!-- Floating screen label on phone -->
            <div class="phone-floating-label" [style.background]="activeSlide.accentColor">
              {{ activeSlide.screen }}
            </div>

            <!-- Reflection effect -->
            <div class="phone-reflection"></div>

            <!-- Glow under phone -->
            <div class="phone-glow" [style.background]="'radial-gradient(ellipse, ' + activeSlide.accentColor + '35, transparent 70%)'"></div>
          </div>
        </div>

        <!-- RIGHT: Screen thumbnail strip -->
        <div class="thumbnail-strip">
          <span class="strip-label">All Screens</span>
          @for (slide of slides; track slide.id; let i = $index) {
            <button class="thumb-btn" [class.active]="activeIndex() === i" (click)="goToSlide(i)" [style.--thumb-accent]="slide.accentColor">
              <img [src]="slide.image" [alt]="slide.screen" loading="lazy">
              <div class="thumb-overlay" [class.active]="activeIndex() === i"></div>
              <span class="thumb-name">{{ slide.screen.split(' ')[0] }}</span>
            </button>
          }
        </div>

      </div>
    </div>
  </div>

  <!-- Outro stats -->
  <div class="showcase-outro">
    <div class="container">
      <div class="outro-grid">
        <div class="outro-stat">
          <strong>8</strong>
          <span>App Screens</span>
        </div>
        <div class="outro-stat">
          <strong>3</strong>
          <span>Client Apps</span>
        </div>
        <div class="outro-stat">
          <strong>&lt;1s</strong>
          <span>Location Updates</span>
        </div>
        <div class="outro-stat">
          <strong>100%</strong>
          <span>Azure Hosted</span>
        </div>
      </div>
    </div>
  </div>

</div>
